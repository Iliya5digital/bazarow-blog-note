// Ждем, пока устройство будет готово к работе с Cordova
document.addEventListener("deviceready", function () {

    // Проверяем, есть ли уже разрешение на отправку уведомлений
    cordova.plugins.notification.local.hasPermission(function (granted) {
        if (granted) {
            // Если разрешение уже получено ранее, 
            // можно выполнять нужную логику
            // (например, показывать сохраненные уведомления)
            console.log('Разрешение на уведомления уже получено');
        } else {
            // Если разрешения еще нет, запрашиваем его у пользователя
            cordova.plugins.notification.local.requestPermission(function (granted) {
                if (granted) {
                    // Если пользователь дал согласие на уведомления, 
                    // выполняем нужную логику
                    console.log('Разрешение на уведомления получено');
                } else {
                    // Если пользователь не дал согласие на уведомления,
                    // выводим сообщение и не выполняем дополнительную логику
                    console.log('Разрешение на уведомления не получено');
                    alert('Вы не дали согласие на получение уведомлений');
                }
            });
        }
    });

}, false);
